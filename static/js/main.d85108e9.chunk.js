(this["webpackJsonpreact-application"]=this["webpackJsonpreact-application"]||[]).push([[0],{33:function(t,e,n){t.exports={btn:"ShowDetail_btn__1U9IN"}},39:function(t,e,n){},40:function(t,e,n){},41:function(t,e,n){},47:function(t,e,n){},48:function(t,e,n){},66:function(t,e,n){},67:function(t,e,n){},68:function(t,e,n){},69:function(t,e,n){},70:function(t,e,n){},71:function(t,e,n){},72:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n(1),i=n.n(c),r=n(30),s=n.n(r),o=(n(39),n(13)),l=(n(40),n(7)),u=n(8),j=n(10),b=n(9),d=n(2),p=n.p+"static/media/netflix-logo.157612ae.svg",h=i.a.createContext(),O=n(12),m=function(t){return function(e){Object(j.a)(c,e);var n=Object(b.a)(c);function c(){var e;Object(l.a)(this,c);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=n.call.apply(n,[this].concat(i))).state={counter:0},e.onTracked=function(){e.setState((function(t){return{counter:t.counter+1}})),console.log("".concat(t.name," (").concat(e.state.counter,")"))},e}return Object(u.a)(c,[{key:"render",value:function(){return Object(a.jsx)(t,Object(O.a)({track:this.onTracked},this.props))}}]),c}(c.Component)},g=m(function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var t=this.props,e=t.username,n=void 0===e?"":e,c=t.track;return Object(a.jsxs)("p",{onMouseOver:c,children:["Welcome ",n,"!"]})}}]),n}(c.Component));n(41);function f(t){var e=t.id,n=t.name,c=void 0===n?"":n,i=t.image;return Object(a.jsx)(o.b,{className:"poster",to:{pathname:"shows/".concat(e,"/").concat(c.toLowerCase().split(" ").join("_")),state:{poster:t}},exact:!0,children:Object(a.jsx)("img",{className:"poster__image",src:i,alt:c})})}n(47);n(48);var x=function(t){return function(e){Object(j.a)(c,e);var n=Object(b.a)(c);function c(){var t;Object(l.a)(this,c);for(var e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(t=n.call.apply(n,[this].concat(a))).state={isLoading:!0,data:[]},t}return Object(u.a)(c,[{key:"componentDidMount",value:function(){var t=this;this.props.load().then((function(e){setTimeout((function(){t.setState({isLoading:!1,data:e})}),2e3)}))}},{key:"render",value:function(){return this.state.isLoading?Object(a.jsx)("div",{className:"loading"}):Object(a.jsx)(t,Object(O.a)({posters:this.state.data},this.props.otherProps))}}]),c}(c.Component)},v=n(20),_=n.n(v),y="https://api.themoviedb.org/3",w=function(){function t(t){return"".concat("https://image.tmdb.org/t/p/original").concat(t)}function e(e){var n=e.data.results;return(void 0===n?[]:n).map((function(e){return Object(O.a)(Object(O.a)({},e),{},{backdrop_path:t(e.backdrop_path),poster_path:t(e.poster_path)})}))}return{getNetflixOriginals:function(){return _.a.get("".concat(y,"/discover/tv"),{params:{api_key:"bae0d6e59a93e166f73ccf08386c4416",with_networks:"213"}}).then(e)},getTrendingNow:function(){return _.a.get("".concat(y,"/trending/all/week"),{params:{api_key:"bae0d6e59a93e166f73ccf08386c4416",language:"en-US"}}).then(e)}}}(),N=x((function(t){var e=t.title,n=t.posters;return Object(a.jsxs)("div",{className:"poster-list",children:[Object(a.jsx)("h3",{className:"poster-list__title",children:e}),Object(a.jsx)("div",{className:"poster-list__container",children:n.length>0?n.map((function(t){var e=t.id,n=t.name,c=t.original_name,i=t.original_title,r=t.poster_path;return Object(a.jsx)(f,Object(O.a)({id:e,name:n||c||i,image:r},t),e)})):Object(a.jsx)(a.Fragment,{children:"This list is empty now, please come back later."})})]})}));function k(){var t=Object(c.useContext)(h);return Object(a.jsxs)("div",{className:"home-page",children:[Object(a.jsx)(g,{username:t.username}),Object(a.jsx)(N,{title:"netflix originals",load:w.getNetflixOriginals}),Object(a.jsx)(N,{title:"trending now",load:w.getTrendingNow})]})}function C(){return Object(a.jsxs)("div",{className:"my-list",children:["My List ",Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(L,{})]})}function L(){return Object(a.jsx)("div",{className:"my-list__container",children:Object(a.jsx)(I,{})})}function I(){return Object(a.jsx)("div",{className:"my-list__body",children:Object(a.jsx)(T,{})})}function T(){var t=Object(c.useContext)(h),e=t.username,n=t.profileImage;return Object(a.jsxs)("div",{className:"avatar",children:[n&&Object(a.jsx)("img",{src:n,alt:"profile"}),Object(a.jsx)("p",{children:e&&"(".concat(e,")")})]})}var S=n(32),F=n.n(S),M=(n(66),n(33)),P=n.n(M),A=function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){if(!this.props.location.state)return Object(a.jsx)(d.a,{to:"/"});var t=this.props.location.state.poster,e=t.backdrop_path,n=t.first_air_date,c=t.id,i=t.name,r=t.original_title,s=t.overview,o=t.release_date,l=t.vote_average,u=i||r,j=n||o,b=Math.round(10*l),p=F()("show-detail__rating",{"show-detail__rating--good":b>=80,"show-detail__rating--average":b>=50&&b<80,"show-detail__rating--bad":b<50});return Object(a.jsxs)("div",{className:"show-detail","data-id":c,children:[Object(a.jsx)("img",{className:"show-detail__image",src:e,alt:u}),Object(a.jsx)("h1",{children:u}),Object(a.jsxs)("p",{children:[Object(a.jsxs)("span",{className:p,children:["Rating: ",b,"%"]}),"\xa0",Object(a.jsxs)("span",{className:"show-detail__date",children:["Release date: ",j]})]}),Object(a.jsx)("p",{className:"show-detail__overview",children:s}),Object(a.jsx)("button",{className:"btn btn--primary ".concat(P.a.btn),type:"button",children:"Play"}),Object(a.jsx)("button",{className:"btn show-detail__button",type:"button",children:"+ My List"})]})}}]),n}(c.Component),D=Object(d.g)(A);n(67);function B(t){return Object(a.jsx)("div",{className:"app-bar",children:t.children})}n(68);function J(t){return Object(a.jsx)("div",{className:"app-logo",children:Object(a.jsx)("img",{src:t.logo,alt:"logo"})})}function R(t){return Object(a.jsx)("button",{className:"btn",type:"text",onClick:t.login,children:"Login"})}n(69);function U(t){return Object(a.jsx)("button",{className:"btn logout-button",type:"text",onClick:t.logout,children:"Logout"})}n(70);var E=m(function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var t=this.props,e=t.path,n=t.children,c=t.track;return Object(a.jsx)(o.b,{activeClassName:"nav-item--active",className:"nav-item",to:e,onClick:c,exact:!0,children:n})}}]),n}(c.Component)),H=(n(71),function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(t=e.call.apply(e,[this].concat(c))).state={username:null,profileImage:null,isLoggedIn:!1},t.login=function(){t.setState({username:"Tony",profileImage:"https://www.airasiafoundation.com/wp-content/uploads/2015/08/Trustee_TonyFernandes.png",isLoggedIn:!0})},t.logout=function(){t.setState({username:null,profileImage:null,isLoggedIn:!1})},t}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state.isLoggedIn?Object(a.jsx)(U,{logout:this.logout}):Object(a.jsx)(R,{login:this.login});return Object(a.jsxs)(h.Provider,{value:{username:this.state.username,profileImage:this.state.profileImage},children:[Object(a.jsxs)(B,{children:[Object(a.jsx)(J,{logo:p}),Object(a.jsx)(E,{path:"/",children:"Home"}),Object(a.jsx)(E,{path:"/myList",children:"My List"}),Object(a.jsx)("div",{className:"grow"}),t]}),Object(a.jsx)("main",{children:Object(a.jsxs)(d.d,{children:[Object(a.jsx)(d.b,{path:"/",exact:!0,children:Object(a.jsx)(k,{})}),Object(a.jsx)(d.b,{path:"/myList",exact:!0,children:Object(a.jsx)(C,{})}),Object(a.jsx)(d.b,{path:"/shows/:id/:name?",exact:!0,children:Object(a.jsx)(D,{})})]})})]})}}]),n}(c.Component));var W=function(){return Object(a.jsx)(o.a,{basename:"/react-application",children:Object(a.jsx)(H,{})})},q=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,73)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,i=e.getLCP,r=e.getTTFB;n(t),a(t),c(t),i(t),r(t)}))};s.a.render(Object(a.jsx)(W,{}),document.getElementById("root")),q()}},[[72,1,2]]]);
//# sourceMappingURL=main.d85108e9.chunk.js.map